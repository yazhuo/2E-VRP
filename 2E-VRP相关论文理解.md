# 《Heuristics for the Two-Echelon Vehicle Routing Problem. A Multi- Start Approach》

## Abstract
在这篇文章中，我们详细介绍2E-VRP问题，这个问题是传统的有容量限制的VRP问题的扩展。在这个问题中，货物是从一个中心仓库运往不同的客户点，并且货物在中介仓库进行整合，这些仓库被称为卫星。本文介绍了一组多端起始的启发式算法，这种算法将仓库与卫星之间的运输和卫星与客户之间的运输分离处理，并且通过调整连接两层运输系统的卫星负载，迭代地解决这两个路线规划子问题。基本上所有的启发式算法的常规解决方案都是先找到一个初始解，然后通过分类进行局部搜索；如果新获得的解是可行的，那么继续进行局部搜索，否则将进行可行性搜索过程。如果可行性解搜索成功，将对这个新的可行解进行局部搜索。本文提出了不同的分类策略和可行性解搜索规则。我们在文章中呈现了对多达50个客户和5个卫星的大范围数据集的计算结果，并且与以往文献中相关的结果进行了比较，说明了本文提出的在性能和准确性上都优于之前的方案。

## Multi-Start Methods
启发式搜索在组合优化问题中容易陷入局部最优解，为了克服这一问题，通常需要变化量。一种方法就是一旦一个区域已经被搜索过，就从一个新的解开始重新开始搜索。
1. First Clustering.
基于距离的贪婪法则将每个客户分配给一个卫星，完成初始解计算。然后，解决两层的CVRP问题以完成完全解。
2. Clustering Improvement.
（局部搜索过程）基于FC的解，每次改变一个客户-卫星分配关系。
3. While the maximum number of iterations is not reached.    
     - Multi Start. 鉴于目前最好的解，根据规则（考虑重组花费）对客户-卫星分配关系进行扰乱。   
         - 如果新的解不是可行解，采用Feasibility Search algorithm.
         - 如果解是可行解，采用CI阶段。

## non-increasing order
non-increasing ⟺ less or equal (non-strict decreasing)
decreasing ⟺ strict less ( strict decreasing)

## First Clustering
基于贪心算法，先按照客户需求的降序对客户进行排序，然后将每个客户依据最近距离分配给卫星。

## Clustering improvement
这一过程旨于通过局部搜索优化客户与卫星的分配效果。这一过程涉及的操作主要是将一个客户从一个初始的卫星重新分配到另外一个卫星。整个过程衡量的标准是距离而不是位置。
1. 给定当前解(current solution)，客户按照重新分配开销的升序排序，将客户存储在CL中。
2. 考虑CL中的第一个客户i，它的当前卫星是j，如果存在卫星k满足条件，则移除i，否则终止CI算法，返回最优解。
3. 处理卫星j与k的CVRP问题。
4. 根据新的分配情况更行每个卫星的需求，然后解决第一层CVRP问题。
5. 计算新解的目标函数，与当前解的成本做比较。
如果新解表现更好，将其作为新的当前解，并且从当前邻域退出；
否则，
如果新解比当前解的目标函数结果差到超过一定阈值，就终止CI算法，返回最优解。
否则，考虑CL列表中的下一个客户。
6. 重复2-5的过程，知道CL列表为空。
